@model BookingApp.Models.Accommodation

@{
    ViewData["Title"] = "Gestion Photos Logement";
}

<form asp-action="ManagePictures" asp-route-id="@Model.Id" enctype="multipart/form-data" id="uploadPicturesForm">    
    <label for="uploadPictures" class="form-label">Upload Image:</label>
    <input type="file" name="files" id="uploadPictures" style="width: 100%;"  class="form-control"  multiple/>

    <input type="submit" value="Upload" id="uploadPicturesBtn"/>
</form>

<h6>Picture(s)</h6>

<div class="row row-cols-1 row-cols-md-4 g-4">
    @foreach (var item in Model.Pictures)
    {

        <div class="col">
            <div class="card">

                <img src="~/upload/@Html.DisplayFor(modelItem => item.FileName)" class="card-img-top"
                     style="object-fit: cover; width: 100%; height: 11em;">
                
                <a href="~/upload/@Html.DisplayFor(modelItem => item.FileName)" target="_blank">
                    <div class="card-img-overlay" style="text-align: right;">
                        <form asp-action="DeletePicture" asp-route-id="@item.Id" method="get" style="display: inline-block;">
                            <input type="hidden" name="AccommodationId" value="@Model.Id" />

                            <button type="submit" class="btn btn-light btn-sm rounded-circle">
                                <i class="bi bi-trash-fill" style="color:red;"></i>
                            </button>
                        </form>
                    </div>
                </a>
            </div>
        </div>
    }

</div>